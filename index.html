<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rebar Tension Pro - Expert Guide Edition</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, sans-serif; padding: 20px; background-color: #f4f7f6; color: #333; }
        .card { background: white; padding: 25px; border-radius: 15px; box-shadow: 0 4px 20px rgba(0,0,0,0.15); max-width: 600px; margin: auto; }
        h2 { color: #d32f2f; text-align: center; border-bottom: 2px solid #d32f2f; padding-bottom: 10px; margin-top: 0; }
        h3 { color: #1565c0; border-left: 4px solid #1565c0; padding-left: 10px; margin-top: 25px; font-size: 1.1em; }
        .input-group { margin-bottom: 15px; }
        label { display: block; font-weight: bold; margin-bottom: 5px; }
        input { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 8px; font-size: 16px; box-sizing: border-box; transition: 0.3s; }
        input:focus { border-color: #1565c0; outline: none; background-color: #e3f2fd; }
        .axial-input { background-color: #fff9c4; border: 1.5px solid #fbc02d; }
        .result-section { margin-top: 20px; padding: 15px; background: #eceff1; border-radius: 8px; font-size: 0.95em; }
        .highlight-box { margin-top: 20px; padding: 20px; background: #e8f5e9; border-radius: 10px; text-align: center; border: 2px solid #4caf50; }
        .highlight-val { color: #d32f2f; font-weight: bold; font-size: 2em; display: block; margin-top: 5px; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; background: white; }
        th, td { border: 1px solid #ddd; padding: 10px; text-align: center; }
        th { background-color: #f5f5f5; font-size: 0.9em; }
        .guide-box { margin-top: 25px; padding: 15px; background: #fff; border: 1px dashed #999; border-radius: 8px; font-size: 0.85em; color: #555; }
        .guide-box ul { padding-left: 20px; }
        .guide-box li { margin-bottom: 8px; }
        .warning { color: #d32f2f; font-weight: bold; }
    </style>
</head>
<body>

<div class="card">
    <h2>Rebar Tension Calculator</h2>
    
    <div class="input-group">
        <label>1. ‡πÇ‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡πà‡∏≤ Mu (ton-m/m):</label>
        <input type="number" id="mu" value="8" step="0.1" oninput="calc()">
    </div>

    <div class="input-group">
        <label>2. ‡πÅ‡∏£‡∏á‡∏î‡∏∂‡∏á‡πÅ‡∏ô‡∏ß‡πÅ‡∏Å‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡πà‡∏≤ Nu (ton/m):</label>
        <input type="number" id="nu" value="0" class="axial-input" step="0.1" oninput="calc()">
    </div>

    <div class="input-group">
        <label>3. ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏ú‡∏• d (cm):</label>
        <input type="number" id="d" value="26" step="0.1" oninput="calc()">
    </div>

    <div class="input-group">
        <label>4. ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡πÄ‡∏´‡∏•‡πá‡∏Å‡πÄ‡∏™‡∏£‡∏¥‡∏° @ (m):</label>
        <input type="number" id="spacing" value="0.25" step="0.01" oninput="calc()">
    </div>

    <div class="result-section">
        <div>‡πÅ‡∏£‡∏á‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å‡πÇ‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå (T_m): <b><span id="outTm">0</span></b> kg/m</div>
        <div>‡πÅ‡∏£‡∏á‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å‡πÅ‡∏ô‡∏ß‡πÅ‡∏Å‡∏ô (N_u): <b><span id="outNu">0</span></b> kg/m</div>
        <div style="font-size: 1.1em; margin-top:5px; color:#1565c0;">‡πÅ‡∏£‡∏á‡∏î‡∏∂‡∏á‡∏£‡∏ß‡∏°‡∏™‡∏∏‡∏ó‡∏ò‡∏¥: <b><span id="outTotal">0</span></b> kg/m</div>
    </div>

    <div class="highlight-box">
        <strong>‡πÅ‡∏£‡∏á‡∏î‡∏∂‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏ï‡πà‡∏≠‡πÄ‡∏´‡∏•‡πá‡∏Å 1 ‡πÄ‡∏™‡πâ‡∏ô</strong>
        <span class="highlight-val"><span id="outTbar">0</span> kg</span>
    </div>

    <h3>Yield Limit Check (SD40)</h3>
    <table>
        <thead>
            <tr><th>‡∏Ç‡∏ô‡∏≤‡∏î</th><th>‡∏•‡∏¥‡∏°‡∏¥‡∏ï (kg)</th><th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th></tr>
        </thead>
        <tbody id="limitBody">
            <tr id="rowDB12"><td>DB12</td><td>4,520</td><td id="statDB12">-</td></tr>
            <tr id="rowDB16"><td>DB16</td><td>8,040</td><td id="statDB16">-</td></tr>
            <tr id="rowDB20"><td>DB20</td><td>12,560</td><td id="statDB20">-</td></tr>
            <tr id="rowDB25"><td>DB25</td><td>19,640</td><td id="statDB25">-</td></tr>
        </tbody>
    </table>

    <div class="guide-box">
        <h3>üìñ ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (User Guide)</h3>
        <ul>
            <li><b>‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏Å Mu ‡πÅ‡∏•‡∏∞ Nu:</b> ‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤‡πÅ‡∏£‡∏á‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏π‡∏ì‡∏ï‡∏±‡∏ß‡∏Ñ‡∏π‡∏ì‡∏ö‡∏£‡∏£‡∏ó‡∏∏‡∏Å (Factored Load) ‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô SDM ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</li>
            <li><b>‡∏Ñ‡πà‡∏≤ d (Effective Depth):</b> ‡∏ß‡∏±‡∏î‡∏à‡∏≤‡∏Å‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏≠‡∏ô‡∏Å‡∏£‡∏µ‡∏ï‡∏î‡πâ‡∏≤‡∏ô‡∏£‡∏±‡∏ö‡πÅ‡∏£‡∏á‡∏≠‡∏±‡∏î‡∏ñ‡∏∂‡∏á‡∏à‡∏∏‡∏î‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á‡πÄ‡∏´‡∏•‡πá‡∏Å‡πÄ‡∏™‡∏£‡∏¥‡∏°‡πÅ‡∏£‡∏á‡∏î‡∏∂‡∏á (‡πÇ‡∏î‡∏¢‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Ñ‡∏∑‡∏≠ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏≤‡∏û‡∏∑‡πâ‡∏ô - 4 ‡∏ã‡∏°.)</li>
            <li><b>‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏ú‡∏• Status:</b> 
                <br>- <span style="color:green">PASS</span>: ‡πÄ‡∏´‡∏•‡πá‡∏Å‡∏Ç‡∏ô‡∏≤‡∏î‡∏ô‡∏µ‡πâ‡∏£‡∏±‡∏ö‡πÅ‡∏£‡∏á‡∏î‡∏∂‡∏á‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏≤‡∏Å
                <br>- <span style="color:red">OVER</span>: <span class="warning">‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢!</span> ‡πÅ‡∏£‡∏á‡∏î‡∏∂‡∏á‡∏™‡∏π‡∏á‡πÄ‡∏Å‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏´‡∏•‡πá‡∏Å ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏´‡∏•‡πá‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏î‡∏£‡∏∞‡∏¢‡∏∞ @
            </li>
            <li><b>‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡πÑ‡∏õ‡πÄ‡∏à‡∏≤‡∏∞‡πÄ‡∏™‡∏µ‡∏¢‡∏ö (Hilti):</b> ‡∏ô‡∏≥‡∏Ñ‡πà‡∏≤ <b>kg ‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß</b> ‡πÑ‡∏õ‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡πÅ‡∏£‡∏á‡∏î‡∏∂‡∏á‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÉ‡∏ô‡∏ã‡∏≠‡∏ü‡∏ï‡πå‡πÅ‡∏ß‡∏£‡πå Hilti PROFIS ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á ETA ‡∏Ç‡∏≠‡∏á RE500v3</li>
        </ul>
    </div>
</div>

<script>
function calc() {
    let mu = parseFloat(document.getElementById('mu').value) || 0;
    let nu = parseFloat(document.getElementById('nu').value) || 0;
    let d = parseFloat(document.getElementById('d').value) || 0;
    let spacing = parseFloat(document.getElementById('spacing').value) || 0;
    
    let z = 0.9 * d;
    let tMoment = (z > 0) ? (mu * 100000) / (0.9 * z) : 0;
    let nTotal = (nu * 1000);
    let tTotal = tMoment + nTotal;
    let qty = (spacing > 0) ? 1 / spacing : 0;
    let tBar = (qty > 0) ? tTotal / qty : 0;

    document.getElementById('outTm').innerText = Math.round(tMoment).toLocaleString();
    document.getElementById('outNu').innerText = Math.round(nTotal).toLocaleString();
    document.getElementById('outTotal').innerText = Math.round(tTotal).toLocaleString();
    document.getElementById('outTbar').innerText = Math.round(tBar).toLocaleString();

    updateStatus('statDB12', 'rowDB12', 4520, tBar);
    updateStatus('statDB16', 'rowDB16', 8040, tBar);
    updateStatus('statDB20', 'rowDB20', 12560, tBar);
    updateStatus('statDB25', 'rowDB25', 19640, tBar);
}

function updateStatus(id, rowId, limit, current) {
    let el = document.getElementById(id);
    let row = document.getElementById(rowId);
    if (current > limit) {
        el.innerText = "OVER"; el.style.color = "red"; row.style.backgroundColor = "#ffebee";
    } else {
        el.innerText = "PASS"; el.style.color = "green"; row.style.backgroundColor = "white";
    }
}
calc();
</script>
</body>
</html>
